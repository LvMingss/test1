@model urban_archive.Models.OtherArchives

@{
    ViewBag.Title = "修改案卷信息";
}
<h2><i class="fa fa-tags kongge"></i>修改案卷信息</h2>

@*<h2>修改案卷信息</h2>*@
<head>
    @section css{
        <link type="text/css" rel="stylesheet" href="~/Scripts/jquery/jquery-ui.css">
    }
    <style type="text/css">
        .dangqianzhuangtai {
            color: blue;
            text-decoration: underline;
        }

        .jubu {
            max-width: 100%;
        }
    </style>
    @section scripts{
        <script type="text/javascript" src="~/Scripts/jquery/jquery-1.8.3.js"></script>
        <script type="text/javascript" src="~/Scripts/jquery/jquery.ui.core.js"></script>
        <script type="text/javascript" src="~/Scripts/jquery/jquery.ui.datepicker.js"></script>
        <script type="text/javascript" src="~/Scripts/jquery/jquery.ui.widget.js"></script>
        <script type="text/javascript" src="~/Scripts/jquery/jquery-ui-timepicker-addon.js"></script>
        @*<script type="text/javascript" src="~/Scripts/jquery/jquery-ui-timepicker-zh-CN.js"></script>*@
        <script>
            //$(function () {
            //    $("#bianzhiTime").datepicker({
            //        dateFormat: "yy.mm.dd",
            //        changeMonth: true,
            //        changeYear: true
            //    });
            //});
            $(function () {
                $("#luruTime").datepicker({
                    dateFormat: "yy.mm.dd",
                    changeMonth: true,
                    changeYear: true
                });
            });
            $(function () {
                    $("#inHouseTime").datetimepicker(); // 日期+时分秒
                        $("#inHouseTime").datepicker(); // 日期
                        $("#inHouseTime").timepicker();
                });
        </script>
    }
</head>
<script>

    function change() {
        if (document.getElementById("isNeibu").value == "0") {
            document.getElementById("projectContent_neibu").value = "";
            document.getElementById("archiveTitle_neibu").value = "";
            document.getElementById("textMaterial_neibu").value = "";
            document.getElementById("drawing_neibu").value = "";
            document.getElementById("bilichi").value = "";
            document.getElementById("projectContent_neibu").disabled = true;
            document.getElementById("archiveTitle_neibu").disabled = true;
            document.getElementById("textMaterial_neibu").disabled = true;
            document.getElementById("drawing_neibu").disabled = true;
            document.getElementById("bilichi").disabled = true;
            document.getElementById("projectContent").disabled = false;
            document.getElementById("archiveTitle").disabled = false;
            document.getElementById("textMaterial").disabled = false;
            document.getElementById("drawing").disabled = false;
            document.getElementById("tufu").disabled = false;
        }
        else if (document.getElementById("isNeibu").value == "1") {
            document.getElementById("projectContent").value = "";
            document.getElementById("archiveTitle").value = "";
            document.getElementById("textMaterial").value = "";
            document.getElementById("drawing").value = "";
            document.getElementById("tufu").value = "";
            document.getElementById("projectContent").disabled = true;
            document.getElementById("archiveTitle").disabled = true;
            document.getElementById("textMaterial").disabled = true;
            document.getElementById("drawing").disabled = true;
            document.getElementById("tufu").disabled = true;
            document.getElementById("projectContent_neibu").value = "内部文件";
            document.getElementById("projectContent_neibu").disabled = false;
            document.getElementById("archiveTitle_neibu").disabled = false;
            document.getElementById("textMaterial_neibu").disabled = false;
            document.getElementById("drawing_neibu").disabled = false;
            document.getElementById("bilichi").disabled = false;
        }
        else {
            document.getElementById("projectContent_neibu").value = "内部文件";
            document.getElementById("projectContent").disabled = false;
            document.getElementById("archiveTitle").disabled = false;
            document.getElementById("textMaterial").disabled = false;
            document.getElementById("drawing").disabled = false;
            document.getElementById("tufu").disabled = false;
            document.getElementById("projectContent_neibu").disabled = false;
            document.getElementById("archiveTitle_neibu").disabled = false;
            document.getElementById("textMaterial_neibu").disabled = false;
            document.getElementById("drawing_neibu").disabled = false;
            document.getElementById("bilichi").disabled = false;
        }
    }

  //获取第一个文本框的值并放入第三个文本框内.
  function add() {
      var text1 = document.getElementById("landNo").value;//获取ID为landNo文本框的值.
      var text2 = document.getElementById("year").value;
      var text3 = document.getElementById("doorplate").value;
      var text4 = document.getElementById("neirongTiyao").value;
      if (text3 != 0) {
          var text31 = "-" + (Array(5).join(0) + text3).slice(-5);
      }
      else {
          var text31 = "";
      }
      if (text4 != 0) {
          var text41 = "-" + (Array(3).join(0) + text4).slice(-3);
      }
      else {
          var text41 = "";
      }
      var text42 = "（" + text4 + "）";
      var text5 = document.getElementById("applyUnit").value;
      var text6 = document.getElementById("projectRange").value;
      var text7 = document.getElementById("projectContent").value;
      document.getElementById("licenceNo").value = text1 + text2 + text31 + text41;//并放入文本框
      if (document.getElementById("isNeibu").value == "0" || document.getElementById("isNeibu").value == "2") {
          if (document.getElementById("archiveTitle").value == null || document.getElementById("archiveTitle").value == "") {
              document.getElementById("archiveTitle").value = text1 + "字[" + text2 + "]第" + text3 + "号文件" + text42 + "\n" + text5 + "  " + text6 + "\n" + text7;
          }
          else {
              document.getElementById("archiveTitle").value = "";
              document.getElementById("archiveTitle").value = text1 + "字[" + text2 + "]第" + text3 + "号文件" + text42 + "\n" + text5 + "  " + text6 + "\n" + text7;
          }
      }

      if (text1.indexOf("北") > 0) {
          document.getElementById("bianzhiUnit").value = "青岛市规划局市北分局";
      }
      else if (text1.indexOf("四") > 0) {
          document.getElementById("bianzhiUnit").value = "青岛市规划局原四方分局";
      }
      else if (text1.indexOf("李") > 0) {
          document.getElementById("bianzhiUnit").value = "青岛市规划局李沧分局";
      }
      else if (text1.indexOf("南") > 0) {
          document.getElementById("bianzhiUnit").value = "青岛市规划局市南分局";
      }
      else {
          document.getElementById("bianzhiUnit").value = "青岛市规划局";
      }
  }

  function add_neibu() {
      var text1 = document.getElementById("landNo").value;//获取ID为landNo文本框的值.
      var text2 = document.getElementById("year").value;
      var text3 = document.getElementById("doorplate").value;
      var text4 = document.getElementById("neirongTiyao").value;
      var text42 = "（" + text4 + "）";
      var text5 = document.getElementById("applyUnit").value;
      var text6 = document.getElementById("projectRange").value;
      var text7 = document.getElementById("projectContent_neibu").value;
      if (document.getElementById("isNeibu").value == "1" || document.getElementById("isNeibu").value == "2") {
          if (document.getElementById("archiveTitle_neibu").value == null || document.getElementById("archiveTitle_neibu").value == "") {
              document.getElementById("archiveTitle_neibu").value = text1 + "字[" + text2 + "]第" + text3 + "号文件" + text42 + "\n" + text5 + "  " + text6 + "\n" + text7;
          }
          else {
              document.getElementById("archiveTitle_neibu").value = "";
              document.getElementById("archiveTitle_neibu").value = text1 + "字[" + text2 + "]第" + text3 + "号文件" + text42 + "\n" + text5 + "  " + text6 + "\n" + text7;
          }
      }
  }

  function yeci() {
      var text1 = document.getElementById("textMaterial").value;
      var text2 = document.getElementById("drawing").value;
      var text3 = document.getElementById("textMaterial_neibu").value;
      var text4 = document.getElementById("drawing_neibu").value;
      document.getElementById("tufu").value = text1 * 1 + text2 * 1;
      document.getElementById("bilichi").value = text3 * 1 + text4 * 1;
  }

  function choose() {
      number = window.showModalDialog('./../ZTree', '', 'dialogWidth=300px;dialogHeight=600px');
      //弹出模型对话框，obj为传值参数,name为子页面返回参数
      if (number == undefined) {
          document.getElementById("landNo").value = null;
      }
      else {
          document.getElementById("landNo").value = number;
          if (number.indexOf("北") > 0 || number.indexOf("四") > 0 || number.indexOf("李") > 0 || number.indexOf("南") > 0 || number.indexOf("崂") > 0 || number.indexOf("城") > 0 || number.indexOf("黄") > 0 || number.indexOf("胶") > 0 || number.indexOf("胶南") > 0 || number.indexOf("平") > 0 || number.indexOf("莱") > 0 || number.indexOf("即") > 0 || number.indexOf("开") > 0) {
              document.getElementById("areaProSeqNo").disabled = false;
          }
          else {
              document.getElementById("areaProSeqNo").value = "";
              document.getElementById("areaProSeqNo").disabled = true;
              
          }
      }  
  }
  function xiugai() {
      var msg = "是否确认修改该案卷信息";
      if (confirm(msg) == true) {
          return true;
      } else {
          return false;
      }
  }
  $(document).ready(function () {
      $("#back").click(function () {
          window.close();
      });
  });
</script>
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.ID)
        @Html.HiddenFor(model => model.status)
        <div class="panel panel-default">
            <table class="table table-bordered dl-horizontal" style="background-color:#f9f9f9;">
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:100px;width:10%;">
                        档案类别
                    </td>
                    <td style="width:40%;">
                        <input type="text" id="classtype" name="classtype" value="执照档案" class="form-control" readonly="readonly" style="height:28px;padding:0px;">
                        @Html.EditorFor(model => model.classTypeID, new { htmlAttributes = new { @style = "display:none", @Value = "1" } })
                        @Html.ValidationMessageFor(model => model.classTypeID, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:100px;width:10%;">
                        档案馆代号
                    </td>
                    <td style="width:40%;">
                        <input type="text" id="urbanID" name="urbanID" class="form-control" style="height:28px;padding:0px;" value="437402">
                        @Html.ValidationMessageFor(model => model.urbanID, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文件编号
                    </td>
                    <td>
                        <div class="form-inline">
                            <input type="text" id="landNo" name="landNo" value="@ViewBag.landNo" style="width:100px;height:28px;padding:0px;" class="form-control" onblur="add()" onclick="choose()" />
                            @Html.ValidationMessageFor(model => model.landNo, "", new { @class = "text-danger" })
                            字【
                            <input type="text" id="year" name="year" value="@ViewBag.year" style="width:50px;height:28px;padding:0px;" class="form-control" onblur="add();" />】
                            @Html.ValidationMessageFor(model => model.year, "", new { @class = "text-danger" })
                            第
                            <input type="text" id="doorplate" name="doorplate" style="width:50px;height:28px;padding:0px;" class="form-control" value="@ViewBag.doorplate" onblur="add();" />
                            @Html.ValidationMessageFor(model => model.doorplate, "", new { @class = "text-danger" })
                            号
                            (<input type="text" id="neirongTiyao" name="neirongTiyao" style="width:100px;height:28px;padding:0px;" class="form-control" value="@ViewBag.neirongTiyao" onblur="add();" />)&nbsp;&nbsp;
                            是否挂接到崂山：
                            @Html.DropDownList("isguajie", null, new { @class = "form-control", @style = "width:100px;display:inline;padding:0px 5px;height:28px;" })

                        </div>
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        执照号
                    </td>
                    <td>
                        <input type="text" id="licenceNo" name="licenceNo" class="form-control" style="height:28px;padding:0px;" value="@ViewBag.licenceNo" />
                        @Html.ValidationMessageFor(model => model.licenceNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        总登记号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.classNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.classNo, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        年度序号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.registrationNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.registrationNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        排架号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.paijiaNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.paijiaNo, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        区工程序号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.areaProSeqNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.areaProSeqNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        工程地点
                    </td>
                    <td>
                        @Html.EditorFor(model => model.location, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.location, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        最新工程地点
                    </td>
                    <td>
                        @Html.EditorFor(model => model.newLocation, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.newLocation, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        申请单位
                    </td>
                    <td>
                        <input type="text" id="applyUnit" name="applyUnit" class="form-control" value="@ViewBag.applyUnit" onblur="add();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.applyUnit, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        保管期限
                    </td>
                    <td>
                        @Html.DropDownList("retentionPeriodNo", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        工程内容
                    </td>
                    <td colspan="3">
                        <input type="text" id="projectRange" name="projectRange" value="@ViewBag.projectRange" class="form-control" onblur="add();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.projectRange, "", new { @class = "text-danger" })
                       
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        案卷厚度
                    </td>
                    <td>
                        @Html.DropDownList("ArchiveThick", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        地号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.tuzhiStatus, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.tuzhiStatus, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        是否为内部
                    </td>
                    <td>
                        @Html.DropDownList("isNeibu", null, new { @class = "form-control", @onchange="change()", @style = "height:28px;padding:0px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        档案密级
                    </td>
                    <td>
                        @Html.DropDownList("securityID", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文件材料题名(公开)
                    </td>
                    <td>
                        <input type="text" id="projectContent" name="projectContent" value="@ViewBag.projectContent" class="form-control" onblur="add();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.projectContent, "", new { @class = "text-danger" })
                        @*<label id="gongchengneirong" style="display:none;color:crimson">工程内容不能为空！</label>*@
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文件材料题名(内部)
                    </td>
                    <td>
                        <input type="text" id="projectContent_neibu" name="projectContent_neibu" value="@ViewBag.projectContent_neibu" class="form-control" onblur="add_neibu();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.projectContent_neibu, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        案卷题名(公开)
                    </td>
                    <td>
                        <textarea name="archiveTitle" id="archiveTitle" class="form-control" style="width:100%;max-width:100%;overflow-y:scroll;height:56px;padding:0px;">@ViewBag.archiveTitle</textarea>
                        @Html.ValidationMessageFor(model => model.archiveTitle, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        案卷题名(内部)
                    </td>
                    <td>
                        <textarea name="archiveTitle_neibu" id="archiveTitle_neibu" class="form-control" style="width:100%;max-width:100%;overflow-y:scroll;height:56px;padding:0px;" onblur="add_neibu()" >@ViewBag.archiveTitle_neibu</textarea>
                        @Html.ValidationMessageFor(model => model.archiveTitle_neibu, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文字材料(公开)
                    </td>
                    <td>
                        <input type="text" id="textMaterial" name="textMaterial" style="width:100px;height:28px;padding:0px;" class="form-control" value="@ViewBag.textMaterial" onblur="yeci();" />
                        @Html.ValidationMessageFor(model => model.textMaterial, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文字材料(内部)
                    </td>
                    <td>
                        <input type="text" id="textMaterial_neibu" name="textMaterial_neibu" style="width:100px;height:28px;padding:0px;" class="form-control" value="@ViewBag.textMaterial_neibu" onblur="yeci();" />
                        @Html.ValidationMessageFor(model => model.textMaterial_neibu, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        图纸(公开)
                    </td>
                    <td>
                        <input type="text" id="drawing" name="drawing" style="width:100px;height:28px;padding:0px;" class="form-control" value="@ViewBag.drawing" onblur="yeci();" />
                        @Html.ValidationMessageFor(model => model.drawing, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        图纸(内部)
                    </td>
                    <td>
                        <input type="text" id="drawing_neibu" name="drawing_neibu" style="width:100px;height:28px;padding:0px;" class="form-control" value="@ViewBag.drawing_neibu" onblur="yeci();" />
                        @Html.ValidationMessageFor(model => model.drawing_neibu, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:100px;width:10%;">
                        总页次(公开)
                    </td>
                    <td style="width:40%;">
                        @Html.EditorFor(model => model.tufu, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;"@*, @onblur = "yeci()"*@ } })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        总页次(内部)
                    </td>
                    <td>
                        @Html.EditorFor(model => model.bilichi, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;"@*, @onblur = "yeci()"*@ } })
                    </td>
                </tr>
                <tr>
                    <td colspan="4" style="font-weight:bold;text-align:center;">
                        共
                        (<input type="text" id="count" name="count" style="width:100px;height:28px;padding:0px;display:inline;" class="form-control" value="@ViewBag.count" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.count, "", new { @class = "text-danger" }))
                        卷 ，
                        第
                        (<input type="text" id="volNo" name="volNo" style="width:100px;height:28px;padding:0px;display:inline;" class="form-control" value="@ViewBag.volNo" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.volNo, "", new { @class = "text-danger" }))卷
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        编制单位
                    </td>
                    <td>
                        @Html.DropDownList("bianzhiUnit", null, new { @class = "form-control", @style = "padding:0px 5px;height:28px;" })
                        @*<input type="text" id="bianzhiUnit" name="bianzhiUnit" class="form-control" style="height:28px;padding:0px;" value="青岛市规划局" />*@
                        @Html.ValidationMessageFor(model => model.bianzhiUnit, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        编制时间
                    </td>
                    <td>
                        @Html.EditorFor(model => model.bianzhiTime, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.bianzhiTime, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        录入人
                    </td>
                    <td>
                        <input id="luruPerson" name="luruPerson" class="form-control" style="height:28px;padding:0px;" value="@ViewBag.luruperson">
                        @Html.ValidationMessageFor(model => model.luruPerson, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        录入时间
                    </td>
                    <td>
                        @Html.EditorFor(model => model.luruTime, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.luruTime, "", new { @class = "text-danger" })
                    </td>                
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:130px;width:6%;">
                        审核人
                    </td>
                    <td>
                        @Html.DropDownList("shenhePerson", null, new { @class = "form-control", @style = "padding:0px 5px;height:28px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        是否为异地
                    </td>
                    <td>
                        @Html.DropDownList("isYD", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        移交单位
                    </td>
                    <td>
                        <input type="text" id="tranferUnit" name="tranferUnit" class="form-control" style="height:28px;padding:0px;" value="青岛市规划局">
                        @Html.ValidationMessageFor(model => model.tranferUnit, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        存放地点
                    </td>
                    <td>
                        <input type="text" name="cunfangLocation" class="form-control" style="height:28px;padding:0px;" id="cunfangLocation" value="青岛市城建档案馆" />
                        @Html.ValidationMessageFor(model => model.cunfangLocation, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        测绘坐标
                    </td>
                    <td>
                        @Html.TextAreaFor(model => model.coordinate, new { @class = "form-control jubu", @style = "width:100%;height:80px;max-width:100%;overflow-y:scroll;height:28px;padding:0px;" })
                        @Html.ValidationMessageFor(model => model.coordinate, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        建筑面积
                    </td>
                    <td>
                        @Html.EditorFor(model => model.jianzhuArea, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.jianzhuArea, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        备注
                    </td>
                    <td colspan="3">
                        @Html.TextAreaFor(model => model.note, new { @class = "form-control jubu", @style = "width:100%;height:80px;max-width:100%;overflow-y:scroll;height:28px;padding:0px;" })
                        @Html.ValidationMessageFor(model => model.note, "", new { @class = "text-danger" })
                    </td>
                </tr>
                @*<tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:100px;width:10%;">
                        档案类别
                    </td>
                    <td style="width:40%;">
                        <input type="text" id="classtype" name="classtype" value="执照档案" class="form-control" readonly="readonly" style="height:28px;padding:0px;">
                        @Html.EditorFor(model => model.classTypeID, new { htmlAttributes = new { @style = "display:none", @Value = "1" } })
                        @Html.ValidationMessageFor(model => model.classTypeID, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;min-width:100px;width:10%;">
                        档案馆代号
                    </td>
                    <td style="width:40%;">
                        <input type="text" id="urbanID" name="urbanID" class="form-control" style="height:28px;padding:0px;" value="437402">
                        @Html.ValidationMessageFor(model => model.urbanID, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        文件编号
                    </td>
                    <td>
                        <div class="form-inline">
                        <input type="text" id="landNo" name="landNo" value="@ViewBag.landNo"style = "width:100px;height:28px;padding:0px;" class = "form-control" onblur="add()" onclick="choose()" />
                        @Html.ValidationMessageFor(model => model.landNo, "", new { @class = "text-danger" })
                        字【
                        <input type="text" id="year" name="year" value="@ViewBag.year"style = "width:50px;height:28px;padding:0px;" class = "form-control" onblur="add();" />】
                        @Html.ValidationMessageFor(model => model.year, "", new { @class = "text-danger" })
                        第
                        <input type="text" id="doorplate" name="doorplate" style = "width:50px;height:28px;padding:0px;" class = "form-control"value="@ViewBag.doorplate" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.doorplate, "", new { @class = "text-danger" })
                        号
                        (<input type="text" id="neirongTiyao" name="neirongTiyao"style = "width:100px;height:28px;padding:0px;" class = "form-control" value="@ViewBag.neirongTiyao" onblur="add();" />)
                            </div>
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        执照号
                    </td>
                    <td>
                        <input type="text" id="licenceNo" name="licenceNo" class="form-control" style = "height:28px;padding:0px;" value="@ViewBag.licenceNo" />
                        @Html.ValidationMessageFor(model => model.licenceNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        总登记号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.classNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.classNo, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        年度序号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.registrationNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.registrationNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        排架号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.paijiaNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.paijiaNo, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        区工程序号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.areaProSeqNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.areaProSeqNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        申请单位
                    </td>
                    <td colspan="3">
                        <input type="text" id="applyUnit" name="applyUnit" class = "form-control"value="@ViewBag.applyUnit" onblur="add();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.applyUnit, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        工程内容
                    </td>
                    <td colspan="3">
                        <input type="text" id="projectRange" name="projectRange"class = "form-control" value="@ViewBag.projectRange" onblur="add();" style="width:100%;max-width:100%;height:28px;padding:0px;" />
                        @Html.ValidationMessageFor(model => model.projectRange, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        案卷题名
                    </td>
                    <td colspan="3">
                        <textarea name="archiveTitle" id="archiveTitle" class = "form-control"style="width:100%;height:80px;max-width:100%;overflow-y:scroll;height:28px;padding:0px;">@ViewBag.archiveTitle</textarea>
                        @Html.ValidationMessageFor(model => model.archiveTitle, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        编制单位
                    </td>
                    <td>
                        <input type="text" id="bianzhiUnit" name="bianzhiUnit" class="form-control" style="height:28px;padding:0px;" value="青岛市规划局" />
                        @Html.ValidationMessageFor(model => model.bianzhiUnit, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        移交单位
                    </td>
                    <td>
                        <input type="text" id="tranferUnit" name="tranferUnit" class="form-control" style="height:28px;padding:0px;" value="青岛市规划局">
                        @Html.ValidationMessageFor(model => model.tranferUnit, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        编制时间
                    </td>
                    <td>
                        @Html.EditorFor(model => model.bianzhiTime, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.bianzhiTime, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        地号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.landNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.landNo, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        工程地点
                    </td>
                    <td colspan="3">
                        @Html.EditorFor(model => model.location, new { htmlAttributes = new { @class = "form-control jubu", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.location, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        最新工程地点
                    </td>
                    <td colspan="3">
                        @Html.EditorFor(model => model.newLocation, new { htmlAttributes = new { @class = "form-control jubu", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.newLocation, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        档案密级
                    </td>
                    <td>
                        @Html.DropDownList("securityID", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        保管期限
                    </td>
                    <td>
                        @Html.DropDownList("retentionPeriodNo", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        录入时间
                    </td>
                    <td>
                        @Html.EditorFor(model => model.luruTime, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.luruTime, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        录入人
                    </td>
                    <td>
                        <input id="luruPerson" name="luruPerson" class="form-control" style="height:28px;padding:0px;" value="@ViewBag.luruperson">
                        @Html.ValidationMessageFor(model => model.luruPerson, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        案卷厚度
                    </td>
                    <td>
                        @Html.DropDownList("ArchiveThick", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        存放地点
                    </td>
                    <td>
                        <input type="text" name="cunfangLocation" class="form-control" style="height:28px;padding:0px;" id="cunfangLocation" value="青岛市城建档案馆" />
                        @Html.ValidationMessageFor(model => model.cunfangLocation, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr style="display:none">
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        项目顺序号
                    </td>
                    <td>
                        @Html.EditorFor(model => model.proSeqNo, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.proSeqNo, "", new { @class = "text-danger" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        存放地点
                    </td>
                    <td>
                        <input type="text" name="cunfangLocation" class="form-control" style = "height:28px;padding:0px;"id="cunfangLocation" value="青岛市城建档案馆" />
                        @Html.ValidationMessageFor(model => model.cunfangLocation, "", new { @class = "text-danger" })
                    </td> 
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        是否为异地
                    </td>
                    <td>
                        @Html.DropDownList("isYD", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        是否为内部
                    </td>
                    <td>
                        @Html.DropDownList("isNeibu", null, new { @class = "form-control", @style = "height:28px;padding:0px;" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        建筑面积
                    </td>
                    <td>
                        @Html.EditorFor(model => model.jianzhuArea, new { htmlAttributes = new { @class = "form-control", @style = "height:28px;padding:0px;" } })
                        @Html.ValidationMessageFor(model => model.jianzhuArea, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        备注
                    </td>
                    <td colspan="3">
                        @Html.TextAreaFor(model => model.note, new { @class = "form-control jubu", @style = "width:100%;height:80px;max-width:100%;overflow-y:scroll;height:28px;padding:0px;" })
                        @Html.ValidationMessageFor(model => model.note, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td style="background-color:#f9f9f9;font-weight:bold;">
                        测绘坐标
                    </td>
                    <td colspan="3">
                        @Html.TextAreaFor(model => model.coordinate, new { @class = "form-control jubu", @style = "width:100%;height:80px;max-width:100%;overflow-y:scroll;height:28px;padding:0px;" })
                        @Html.ValidationMessageFor(model => model.coordinate, "", new { @class = "text-danger" })
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="font-weight:bold;">
                        <div class="form-inline">
                        共
                        (<input type="text" id="count" name="count" style = "width:100px;height:28px;padding:0px;" class = "form-control"  value="@ViewBag.count" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.count, "", new { @class = "text-danger" }))
                        卷 ，
                        第
                        (<input type="text" id="volNo" name="volNo" style = "width:100px;height:28px;padding:0px;" class = "form-control"value="@ViewBag.volNo" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.volNo, "", new { @class = "text-danger" }))卷
                            </div>
                    </td>
                    <td colspan="2" style="font-weight:bold;">
                        <div class="form-inline">
                        共 (
                        <input type="text" id="textMaterial" name="textMaterial" style = "width:100px;height:28px;padding:0px;" class = "form-control"value="@ViewBag.textMaterial" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.textMaterial, "", new { @class = "text-danger" }))页
                        （其中图纸 (
                        <input type="text" id="drawing" name="drawing" style = "width:100px;height:28px;padding:0px;" class = "form-control"value="@ViewBag.drawing" onblur="add();" />
                        @Html.ValidationMessageFor(model => model.drawing, "", new { @class = "text-danger" }))页）
                            </div>
                    </td>
                </tr>*@
            </table>
        </div>

        <div style="text-align:center;">
            <input type="submit" name="action" value="修改" class="btn btn-default" onclick="return xiugai()" />  &nbsp;
            <input type="button" value="返回案卷列表" name="back" id="back" class="btn btn-default" />
            @*<a class="btn btn-default" href="/OtherArchives/">返回案卷列表</a>*@
            <div style="@ViewData["div1"]">
                <input type="submit" name="action" value="打印案卷封皮(内部)" class="btn btn-default" disabled="@ViewData["fengpi"]" />  &nbsp;
                <input type="submit" name="action" value="打印备考表(内部)" class="btn btn-default" disabled="@ViewData["beikaobiao"]" />  &nbsp;
                <input type="submit" name="action" value="打印卷内目录(内部)" class="btn btn-default" disabled="@ViewData["juanneimulu"]" />&nbsp;
            </div>
            <div style="@ViewData["div2"]">
                <input type="submit" name="action" value="打印案卷封皮(外部)" class="btn btn-default" disabled="@ViewData["fengpi"]" />  &nbsp;
                <input type="submit" name="action" value="打印备考表(外部)" class="btn btn-default" disabled="@ViewData["beikaobiao"]" />  &nbsp;
                <input type="submit" name="action" value="打印卷内目录(外部)" class="btn btn-default" disabled="@ViewData["juanneimulu"]" />
            </div>
            @*@Html.ActionLink("返回案卷列表...", "Index", new {@class = "btn btn-default"})*@
            
            <div style="height:20px;">
            </div>
        </div>
    </div>

        @*<div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" name="action" value="修改" class="btn btn-default" onclick="return xiugai()"/>
                <div style="@ViewData["div1"]">
                    <input type="submit" name="action" value="打印案卷封皮(内部)" class="btn btn-default" disabled="@ViewData["fengpi"]" />
                    <input type="submit" name="action" value="打印备考表(内部)" class="btn btn-default" disabled="@ViewData["beikaobiao"]" />
                    <input type="submit" name="action" value="打印卷内目录(内部)" class="btn btn-default" disabled="@ViewData["juanneimulu"]" />
                </div>
                <div style="@ViewData["div2"]">
                    <input type="submit" name="action" value="打印案卷封皮(外部)" class="btn btn-default" disabled="@ViewData["fengpi"]" />
                    <input type="submit" name="action" value="打印备考表(外部)" class="btn btn-default" disabled="@ViewData["beikaobiao"]" />
                    <input type="submit" name="action" value="打印卷内目录(外部)" class="btn btn-default" disabled="@ViewData["juanneimulu"]" />
                </div>
            </div>
        </div>
    </div>*@
}

@*<div>
    @Html.ActionLink("Back to List", "Index")
</div>*@
